$(document).ready(function(){const tags=new Bloodhound({initialize:!1,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("tag"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"../data/tags.json"},cache:!1}),links=new Bloodhound({initialize:!1,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("title"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"../data/links.json"},cache:!1}),makers=new Bloodhound({initialize:!1,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("sortname"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"../data/makers.json"},cache:!1});$("#searchInput").focus(function(){tags.initialize(),links.initialize(),makers.initialize()}),$("#bloodhound .typeahead").typeahead({hint:!0,highlight:!0,minLength:2,limit:10},{name:"tags",source:tags.ttAdapter(),displayKey:"tag",templates:{notFound:'<div class="ttNoResults">0 search results</div>',header:'<div class="tt-suggestion ttHeader">Tags</div>',suggestion:function(data){return`<div><div>${data.tag}</div><div class="ttMeta ttCount">${data.count}</div></div>`}}},{name:"links",source:links.ttAdapter(),displayKey:"title",templates:{notFound:'<div class="ttNoResults">0 search results</div>',header:'<div class="tt-suggestion ttHeader">Links</div>',suggestion:function(data){return`<div><div>${data.title}</div><div class="ttMeta">${data.subkind}</div></div>`}}},{name:"makers",source:makers.ttAdapter(),displayKey:"sortname",templates:{notFound:'<div class="ttNoResults">0 search results</div>',header:'<div class="tt-suggestion ttHeader">Makers</div>',suggestion:function(data){return`<div><div>${data.sortname}</div><div class="ttMeta ttCount">${data.links}</div></div>`}}}),$("#bloodhound .typeahead").on("typeahead:render",function(e,objs,async,name){var nones=$(".tt-menu").find(".ttNoResults"),suggestions=$(".tt-menu").find(".tt-suggestion.tt-selectable");nones.hide(),0===suggestions.length&&nones.first().show()}),$("#bloodhound .typeahead").on("typeahead:select",function(event,selection,source){window.location.href=`${source}/${selection.slug}`})});